# Axis2 Client and Server with Gradle

This project is a primitive example of Axis2 client and server generation via Gradle.
It automates much of the tasks required to build and deploy from a provided WSDL file.

## Preparing

### Axis2

1. Download and extract the [Apache Axis2](https://axis.apache.org/axis2/java/core/download.cgi) binary distribution
2. Assuming your version is `1.7.9`, set the following environment variables:
   1. Append `PATH` with: `/path/to/axis2-1.7.9/bin`
   2. Set `AXIS2_HOME` to: `/path/to/axis2-1.7.9`

If you have your IDE open, you may have to restart it for Gradle to pick up the new environment.

### Generation

Inside this project's root directory, run `gradlew`. This will invoke the code generation for both the client and server using [ApproverService.wsdl](ApproverService.wsdl).
Then, edit [server/generated/resources/services.xml](server/generated/resources/services.xml) and set `ServiceClass` to the full name of the implemented server class:

```xml
<serviceGroup>
    ...
        <parameter name="ServiceClass">com.axisapp.ApproverService</parameter>
    ...
</serviceGroup>
```

## Building

In the project's root directory, run `gradlew jar`. Once complete, you will find the client and server JARs in the following directories, respectively:

- [client/build/libs/](client/build/libs/)
- [server/build/libs/](server/build/libs/)

## Deploying

1. Download and extract the [Apache Tomcat](https://tomcat.apache.org/tomcat-8.5-doc/index.html) binary distribution
2. Download the [Apache Axis2](https://axis.apache.org/axis2/java/core/download.cgi) WAR distribution

You will now need to start a Tomcat server and deploy the Axis2 WAR to it, so it can host the server generated by this project.

If running IntelliJ, you can open this project and configure a `Run/Debug Configuration` for `Tomcat Server > Local`, selecting TomCat's home directory. Then, in the `Deployment` tab, you can select the Axis2 WAR you downloaded earlier. This way, once you click `Run` or `Debug`, Tomcat will automatically start, Axis2 will be deployed, and your browser will open the configuration page.

If not running IntelliJ, you will need to start Tomcat and deploy the Axis2 WAR manually.

Finally, deploy the server JAR to Axis2. Once that finishes, you can either run the client JAR or run the client via an IDE to see it interact with the server.
